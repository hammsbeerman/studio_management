{% extends "base.html" %}
{% load static %}
{% block content %}

<h3 class="mb-3">{{ vendor.name }}</h3>

<div class="row g-3">
  <div class="col-md-8">
    <div class="card">
      <div class="card-body">
        <dl class="row mb-0">
          <dt class="col-sm-3">Address</dt>
          <dd class="col-sm-9">
            {{ vendor.address1|default:"—" }}{% if vendor.address2 %}<br>{{ vendor.address2 }}{% endif %}<br>
            {% if vendor.city %}{{ vendor.city }}, {% endif %}{{ vendor.state|default:"" }} {{ vendor.zipcode|default:"" }}
          </dd>

          <dt class="col-sm-3">Phone</dt>
          <dd class="col-sm-9">
            {% if vendor.phone1 %}<a href="tel:{{ vendor.phone1 }}">{{ vendor.phone1 }}</a>{% else %}—{% endif %}
            {% if vendor.phone2 %} · <a href="tel:{{ vendor.phone2 }}">{{ vendor.phone2 }}</a>{% endif %}
          </dd>

          <dt class="col-sm-3">Email</dt>
          <dd class="col-sm-9">{% if vendor.email %}<a href="mailto:{{ vendor.email }}">{{ vendor.email }}</a>{% else %}—{% endif %}</dd>

          <dt class="col-sm-3">Website</dt>
          <dd class="col-sm-9">{% if vendor.website %}<a href="{{ vendor.website }}" target="_blank" rel="noopener">{{ vendor.website }}</a>{% else %}—{% endif %}</dd>

          <dt class="col-sm-3">Types</dt>
          <dd class="col-sm-9">
            {% if vendor.supplier %}<span class="badge bg-secondary">Supplier</span>{% endif %}
            {% if vendor.retail_vendor %}<span class="badge bg-secondary">Retail</span>{% endif %}
            {% if vendor.inventory_vendor %}<span class="badge bg-secondary">Inventory</span>{% endif %}
            {% if vendor.non_inventory_vendor %}<span class="badge bg-secondary">Non-Inventory</span>{% endif %}
          </dd>
        </dl>
      </div>
      <div class="card-footer">
        <a href="{% url 'inventory:edit_vendor' id=vendor.id %}" class="btn btn-primary btn-sm">Edit Vendor</a>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card">
      <div class="card-header">Recent Order Outs</div>
      <div class="card-body p-0">
        <table class="table table-sm mb-0">
          <thead>
            <tr><th>ID</th><th>Date</th><th>WO</th><th>Customer</th></tr>
          </thead>
          <tbody>
            {% for x in orderout %}
              <tr>
                <td>{{ x.id }}</td>
                <td>{{ x.dateentered|date:"Y-m-d" }}</td>
                <td>{{ x.hr_workorder|default:"—" }}</td>
                <td>{{ x.hr_customer|default:"—" }}</td>
              </tr>
            {% empty %}
              <tr><td colspan="4" class="text-muted text-center">No records</td></tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

{% endblock %}