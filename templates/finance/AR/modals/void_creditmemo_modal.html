<div class="modal-content">
  <div class="modal-header">
    <h5 class="modal-title">Void Credit Memo {{ cm.memo_number|default:cm.id }}</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
  </div>

  <div class="modal-body">
    {% if error %}<div class="alert alert-danger">{{ error }}</div>{% endif %}

    <div class="text-muted mb-2">
      Amount: <strong>{{ cm.amount|floatformat:2 }}</strong>
      â€¢ Open: <strong>{{ cm.open_balance|floatformat:2 }}</strong>
    </div>

    <form
      hx-post="{% url 'finance:ar_void_creditmemo_modal' cm.id %}"
      hx-headers='{"X-CSRFToken":"{{ csrf_token }}"}'
      hx-swap="none">
      <label class="form-label">Reason (required)</label>
      <textarea class="form-control" name="reason" rows="3" required></textarea>

      <div class="mt-3 d-flex justify-content-end gap-2">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-danger">Void</button>
      </div>
    </form>
  </div>
</div>